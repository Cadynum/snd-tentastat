\documentclass[a4paper]{scrartcl}
\usepackage[swedish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[top=1.5cm, bottom=1.5cm]{geometry}

\usepackage{pgffor}
\usepackage{tikz}
\usepackage{float}
\usepackage{calc}
\usepackage{fp}
\usetikzlibrary{calc}

\usepackage{hyperref}


%\begin{document}
%\foreach \n in {apples,burgers,cake}{
%	\hline
%	Let's eat \n.\par
%
%}

%\end{document}
\pagestyle{empty}
\definecolor{cfail}{HTML}{C1C1C1}
\definecolor{cthree}{HTML}{FFA58B}
\definecolor{cfour}{HTML}{8DFF8B}
\definecolor{cfive}{HTML}{FFE98B}

\newcommand{\gheight}{1.5cm}
\newcommand{\gw}{0.8\textwidth}

%args: maxwidth U 3 4 5
\newcommand{\mz}[5]{%
\subsection*{Kursnamn}

\begin{figure}[H]
\begin{tikzpicture}
	\draw (0,0) rectangle (#1,\gheight);
\end{tikzpicture}%
\end{figure}%
}

\newcommand{\test}{%
\begin{tikzpicture}
    \foreach \x in {0,1,...,3}
        \filldraw (\x,0) circle (0.2cm);
\end{tikzpicture}%
}
%\setlength{\tot}{#2 + #3 + #4 + #5}


\newcommand\printpercent[2]{\FPeval\result{round(#1*100/#2, 0)}\result\%}

\newcommand{\lut}[5]{%
\pgfmathparse{#2 + #3 + #4 + #5}
\let\sums\pgfmathresult

\pgfmathparse{#2/(\sums)}
\let\gfail\pgfmathresult

\pgfmathparse{(#2+#3)/(\sums)}
\let\gthree\pgfmathresult

\pgfmathparse{(#2+#3+#4)/(\sums)}
\let\gfour\pgfmathresult
\vspace{2mm}
\noindent
\begin{tikzpicture}
\fill[fill=cfail] (0,0) rectangle (\gfail#1, \gheight)
	node [midway] {\sffamily \large $\printpercent{#2}{\sums}$};
\fill[fill=cthree] (\gfail#1,0) rectangle (\gthree#1, \gheight)
	node [midway] {\sffamily \large $\printpercent{#3}{\sums}$};
\fill[fill=cfour] (\gthree#1,0) rectangle (\gfour#1, \gheight)
	node [midway] {\sffamily \large $\printpercent{#4}{\sums}$};
\fill[fill=cfive] (\gfour#1,0) rectangle (#1, \gheight)
	node [midway] {\sffamily \large $\printpercent{#5}{\sums}$};

\draw (0,0) rectangle (#1,\gheight);

\end{tikzpicture}%
\\
Totalt: \pgfmathprintnumber{\sums}  --- U: #2 ~~~ 3: #3 ~~~ 4: #4 ~~~ 5: #5
\vspace{4mm}
}

\newcommand{\kurs}[1]{{\noindent \large \bf \sffamily  #1}}

\begin{document}
\centerline{{\Huge \bf \sffamily Tentastatistik --- 2012 LP4}}
\vspace{\fill}

\section*{TKDAT-1}

\kurs{EDA452 Grundläggande Datorteknik}
\lut{\textwidth}{17}{34}{25}{11}

\kurs{TMV216 Linjär algebra}
\lut{\textwidth}{37}{23}{9}{7}


\section*{TKDAT-2}
\kurs{DAT036 Datastrukturer}
\lut{\textwidth}{23}{48}{9}{7}

\kurs{TIF 085 Fysik för ingenjörer}
\lut{\textwidth}{35}{28}{6}{12}

\section*{TKDAT-3}
\kurs{ERE102 Reglerteknik}
\lut{\textwidth}{54}{17}{5}{1}

\vspace{\fill}
\raggedleft
\includegraphics[width=5cm]{logga.pdf} \\
\url{https://github.com/Cadynum/snd-tentastat}

\end{document}



